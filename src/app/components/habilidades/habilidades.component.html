<section>
  <div class="container-fluid habilidades">
    <div class="row justify-content-center">
      <div class="col-11">
        <h2 id="habilidades"> Habilidades
          <div style="display:inline-block; font-size: 16px;">
            <!-- Button trigger modal Add-->
            <fa-icon [icon]="faPlus" (click)="onOpenModal('add')" type="button" 
            data-bs-toggle="modal" data-bs-target="#addHabilidadModal" data-original-title="add">
            </fa-icon>
            
            <!-- Modal Add-->
            <div class="modal fade" id="addHabilidadModal" role="dialog" tabindex="-1" aria-labelledby="addHabilidadModalLabel" aria-hidden="true" style="height: 400px; line-height: 2;">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header" style="background-color:black">
                    <h5 class="modal-title" style="color:red" id="addHabilidadModalLabel" >Agregar Habilidad</h5>
                  </div>
                  <div class="modal-body">

                    <!--Formulario Add-->
                    <form #addForm="ngForm" (ngSubmit)="onAddHabilidad(addForm)" style="border:none">
                      <div class="mb-3">
                        <label for="nombre" class="form-label">Nombre</label>
                        <input type="text" ngModel name="nombre" class="form-control" id="nombre" placeholder="Nombre" required>
                      </div>
                      <div class="mb-3">
                        <label for="foto" class="form-label">Foto</label>
                        <input type="text" ngModel name="foto" class="form-control" id="foto" placeholder="Url de la imagen" required>
                      </div>
                      <div class="modal-footer">
                        <button [disabled]="addForm.invalid" type="submit" class="btn btn-primary">Guardar</button>
                        <button type="button" id="add-habilidad-form" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </h2>
      </div>
      <div class="col-11 margen">
        <ul>
          <li *ngFor=" let habilidad of habilidadList" class="skill">
            <img [src]="habilidad.foto" [alt]="habilidad.nombre">
            <div style="display: inline-block;" id="main-container">
              <!-- Button trigger modal Edit-->
              <fa-icon [icon]="faPen" (click)="onOpenModal('edit', habilidad)" 
              style="font-size: 17px" type="button" data-bs-toggle="modal" data-bs-target="#editHabilidadModal" data-original-title="edit">
              </fa-icon>
              
              <!-- Modal Edit-->
              <div class="modal fade" id="editHabilidadModal" tabindex="-1" role="dialog" aria-labelledby="editHabilidadModalLabel" aria-hidden="true" style="height: 400px; line-height: 2;">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header" style="background-color:black">
                      <h5 clase="modal-title" id="editHabilidadModalLabel" style="color:red" >
                        Editar Habilidad "{{editHabilidad?.nombre}}"
                      </h5>
                    </div>
                    <div class="modal-body">
    
                      <!--Formulario Edit-->
                      <form #editForm="ngForm" style="border:none">
                        <div class="mb-3">
                          <label for="nombre" class="form-label">Nombre</label>
                          <input type="text" ngModel="{{editHabilidad?.nombre}}" name="nombre" class="form-control" id="nombre">
                        </div>
                        <input type="hidden" ngModel="{{editHabilidad?.idHab}}" name="idHab" class="form-control" id="idHab"> 
                        <div class="mb-3">
                          <label for="foto" class="form-label">Foto</label>
                          <input type="text" ngModel="{{editHabilidad?.foto}}" name="foto" class="form-control" id="foto">
                        </div>
                        <div class="modal-footer">
                          <button (click)="onUpdateHabilidad(editForm.value)" type="submit" class="btn btn-primary">Guardar</button>
                          <button type="button" id="edit-habilidad-form" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
             <!-- Button trigger modal Delete-->
             <fa-icon [icon]="faXmark" type="button" data-bs-toggle="modal" data-bs-target="#deleteModalHabilidad" (click)="onOpenModal('delete', habilidad)" data-original-title="delete">  
            </fa-icon>
            <!--Delete modal-->
            <div style="font-size: 16px; font-weight: 700" class="modal fade" id="deleteModalHabilidad" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true" style="height: 300px; line-height:normal;">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header" style="background-color: black">
                    <h5 class="modal-title" id="deleteModalLabel" style="font-weight:700; color: red">Borrar Habilidad</h5>
                  </div>
                  <div class="modal-body" style="color: rgb(39, 35, 35); font-weight: 700;">
                    <p>¿Estás seguro de que quieres borrar la habilidad
                      "{{deleteHabilidad?.nombre}}"?
                    </p>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                      No
                    </button>
                    <button (click)="onDeleteHabilidad(deleteHabilidad!.idHab)" class="btn btn-danger" data-bs-dismiss="modal">
                      Si
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>